(function(t){function e(e){for(var i,r,o=e[0],c=e[1],l=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],i=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(i=!1)}i&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},s=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"1b4b":function(t,e,a){"use strict";var i=a("8788"),n=a.n(i);n.a},3048:function(t,e,a){},"30f2":function(t,e,a){"use strict";var i=a("d7dd"),n=a.n(i);n.a},"4b3a":function(t,e,a){"use strict";var i=a("a114"),n=a.n(i);n.a},"4d0d":function(t,e,a){"use strict";var i=a("778a"),n=a.n(i);n.a},"4e00":function(t,e,a){},"51cc":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i,n,s,r,o=a("2b0e"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.getTheme,attrs:{id:"app"}},[a("div",{staticClass:"section pb-0"},[a("app-header")],1),a("router-view"),a("div",{staticClass:"section"},[a("app-footer")],1)],1)},l=[],d=a("5530"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6 is-offset-3"},[a("div",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("router-link",{staticClass:"level-item",attrs:{to:"/"}},[a("div",{staticClass:"logo-container"},[a("span",{staticClass:"logo-text"},[t._v(t._s(t.siteName))])])])],1),a("div",{staticClass:"level-right"},[a("theme-switcher")],1)])])])])},m=[],h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{staticClass:"theme-switcher level-item",attrs:{for:"theme-switcher"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.checked,expression:"checked"}],staticClass:"is-hidden",attrs:{type:"checkbox",id:"theme-switcher",name:"theme-switcher"},domProps:{checked:Array.isArray(t.checked)?t._i(t.checked,null)>-1:t.checked},on:{change:[function(e){var a=t.checked,i=e.target,n=!!i.checked;if(Array.isArray(a)){var s=null,r=t._i(a,s);i.checked?r<0&&(t.checked=a.concat([s])):r>-1&&(t.checked=a.slice(0,r).concat(a.slice(r+1)))}else t.checked=n},function(e){return t.changeTheme(t.checked)}]}}),a("span",{staticClass:"dark-icon"},[t._v("Dark")]),a("span",{staticClass:"light-icon"},[t._v("Light")])])},f=[],p=a("2f62"),v={name:"ThemeSwitcher",data:function(){return{checked:!1}},computed:Object(d["a"])({},Object(p["c"])({getTheme:"getTheme"})),methods:Object(d["a"])(Object(d["a"])({},Object(p["b"])({setTheme:"setTheme"})),{},{changeTheme:function(t){t?this.setTheme("dark"):this.setTheme("light")}}),mounted:function(){this.checked="dark"===this.getTheme}},b=v,g=(a("67b2"),a("2877")),x=Object(g["a"])(b,h,f,!1,null,null,null),C=x.exports,w={name:"Header",computed:{siteName:function(){return this.$store.state.siteMeta.siteName}},components:{"theme-switcher":C}},O=w,_=(a("30f2"),Object(g["a"])(O,u,m,!1,null,null,null)),j=_.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("footer",{staticClass:"footer"},[a("div",{staticClass:"content has-text-centered"},[a("p",[t._v(" Â© "+t._s((new Date).getFullYear())+" "+t._s(t.siteName)+" ")])])])])},y=[],D={name:"Footer",computed:{siteName:function(){return this.$store.state.siteMeta.siteName}}},L=D,S=(a("6593"),Object(g["a"])(L,T,y,!1,null,null,null)),k=S.exports,R={name:"App",data:function(){return{}},components:{"app-header":j,"app-footer":k},computed:Object(d["a"])({},Object(p["c"])({getTheme:"getTheme"}))},A=R,I=(a("4d0d"),Object(g["a"])(A,c,l,!1,null,null,null)),M=I.exports,$=(a("4de4"),a("c975"),a("96cf"),a("1da1")),N=a("ade3"),E=(a("d3b7"),function(t,e,a,i){return fetch(t,{method:e,body:a,headers:i}).then((function(t){return t.ok?204===t.status?Promise.resolve(null):t.json():Promise.reject()}))}),P="/api",F={getAllLirix:"getAllLirix",getAllLirixRev:"getAllLirixRev",getSingleLiric:"getSingleLiric",setAllLirix:"setAllLirix",setSingleLiric:"setSingleLiric",allLirix:"allLirix",filteredLirix:"filteredLirix",singleLiric:"singleLiric",getData:"getData",getDataSingle:"getDataSingle",postData:"postData",deleteData:"deleteData",updateData:"updateData",modalState:"modalState",setModal:"setModal"};o["a"].use(p["a"]);var J=new p["a"].Store({state:(i={siteMeta:{siteName:"LIRIX"},theme:"light",modal:!1,searchTerm:""},Object(N["a"])(i,F.allLirix,[]),Object(N["a"])(i,F.singleLiric,""),i),getters:(n={},Object(N["a"])(n,F.getAllLirix,(function(t){return t.allLirix})),Object(N["a"])(n,F.getSingleLiric,(function(t){return t.singleLiric})),Object(N["a"])(n,F.modalState,(function(t){return t.modal})),Object(N["a"])(n,"filteredLirix",(function(t){return t.allLirix.filter((function(e){return e.title.toLowerCase().indexOf(t.searchTerm.toLowerCase())>-1||e.bodyText.toLowerCase().indexOf(t.searchTerm.toLowerCase())>-1}))})),Object(N["a"])(n,"getTheme",(function(t){return t.theme})),n),mutations:(s={},Object(N["a"])(s,F.setAllLirix,(function(t,e){t.allLirix=e})),Object(N["a"])(s,F.setSingleLiric,(function(t,e){t.singleLiric=e})),Object(N["a"])(s,F.setModal,(function(t,e){t.modal=e})),Object(N["a"])(s,"setSearchTerm",(function(t,e){t.searchTerm=e})),Object(N["a"])(s,"setTheme",(function(t,e){t.theme=e})),s),actions:(r={},Object(N["a"])(r,F.getData,(function(t){return Object($["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,E(P,"GET");case 2:a=e.sent,console.log(a),t.commit(F.setAllLirix,a.rows.reverse());case 5:case"end":return e.stop()}}),e)})))()})),Object(N["a"])(r,F.getDataSingle,(function(t,e){return Object($["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,E(P+"/"+e,"GET");case 2:i=a.sent,t.commit(F.setSingleLiric,i);case 4:case"end":return a.stop()}}),a)})))()})),Object(N["a"])(r,F.postData,(function(t,e){return E(P,"POST",JSON.stringify(e),{"Content-Type":"application/json"}).then((function(){t.dispatch(F.getData)}))})),Object(N["a"])(r,F.updateData,(function(t,e){return E(P,"PATCH",JSON.stringify(e),{"Content-Type":"application/json"}).then((function(){t.dispatch(F.getData)}))})),Object(N["a"])(r,F.deleteData,(function(t,e){return E(P+"/"+String(e),"DELETE").then((function(){t.dispatch(F.getData)}))})),Object(N["a"])(r,F.setModal,(function(t,e){t.commit(F.setModal,e)})),Object(N["a"])(r,"setSearchTerm",(function(t,e){t.commit("setSearchTerm",e)})),Object(N["a"])(r,"setTheme",(function(t,e){t.commit("setTheme",e)})),r)}),V=a("8c4f"),H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section"},[a("div",{staticClass:"container"},[a("app-action-bar"),a("app-listing"),a("app-add-item")],1)])},G=[],Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal",class:{"is-active":t.modal}},[a("div",{staticClass:"modal-background"}),a("div",{staticClass:"modal-content pt-6 pb-6 pr-6 pl-6 has-background-white"},[t.errors.length?a("div",{staticClass:"notification is-danger is-light"},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e(),a("form",{on:{submit:function(e){return e.preventDefault(),t.saveToDatabase()}}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Title")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newRecord.title,expression:"newRecord.title"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.newRecord.title},on:{input:function(e){e.target.composing||t.$set(t.newRecord,"title",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Author*")]),a("div",{staticClass:"control"},[a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newRecord.authorId,expression:"newRecord.authorId"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newRecord,"authorId",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0",selected:""}},[t._v("Vali")]),a("option",{attrs:{value:"1"}},[t._v("Cosmin")])])])])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("Content*")]),a("div",{staticClass:"control"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newRecord.bodyText,expression:"newRecord.bodyText"}],staticClass:"textarea",attrs:{placeholder:"Textarea"},domProps:{value:t.newRecord.bodyText},on:{input:function(e){e.target.composing||t.$set(t.newRecord,"bodyText",e.target.value)}}})])]),a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-link",class:{"is-loading":t.loading}},[t._v("Add")])])])])]),a("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(e){return t.hideAddScreen()}}})])},B=[],X={name:"AddItem",data:function(){return{loading:!1,errors:[],newRecord:{title:"",bodyText:"",authorId:0}}},computed:Object(d["a"])({},Object(p["c"])({modal:F.modalState})),methods:Object(d["a"])(Object(d["a"])({},Object(p["b"])([F.postData,F.setModal])),{},{saveToDatabase:function(){var t=this,e=this.newRecord;e.bodyText&&(this.loading=!0,this.postData(this.newRecord).then((function(){t.loading=!1,t.setModal(!1),t.newRecord={title:"",bodyText:""}}))),this.errors=[],e.bodyText||this.errors.push("Add some content")},hideAddScreen:function(){this.setModal(!1)}})},q=X,z=(a("fcb8"),Object(g["a"])(q,Y,B,!1,null,null,null)),K=z.exports,Q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"lyrix-listing columns"},[a("div",{staticClass:"column is-6 is-offset-3"},t._l(t.filteredLirix,(function(t,e){return a("list-item",{key:e,attrs:{"item-data":t}})})),1)])},U=[],W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mb-5",class:{active:t.editMode}},[a("div",{staticClass:"card-content"},[t.errors.length?a("div",{staticClass:"notification is-danger is-light"},[a("ul",t._l(t.errors,(function(e,i){return a("li",{key:i},[t._v(t._s(e))])})),0)]):t._e(),a("p",{staticClass:"title original"},[t._v(t._s(t.itemData.title))]),a("div",{staticClass:"title-edit mb-5 edit"},[a("h4",{staticClass:"title is-4"},[t._v("Title")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.newRecord.title,expression:"newRecord.title"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.newRecord.title},on:{input:function(e){e.target.composing||t.$set(t.newRecord,"title",e.target.value)}}})]),a("p",{staticClass:"has-text-grey-lighter original"},[t._v("Added by "+t._s(t.itemData.authorName)+" "+t._s(t.addedOnDate))]),a("div",{staticClass:"subtitle-edit mb-5 edit"},[a("h4",{staticClass:"title is-4"},[t._v("Author")]),a("div",{staticClass:"select"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.newRecord.authorId,expression:"newRecord.authorId"}],on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.newRecord,"authorId",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0",selected:""}},[t._v("Vali")]),a("option",{attrs:{value:"1"}},[t._v("Cosmin")])])])]),a("div",{staticClass:"body-text original my-5"},[a("pre",[t._v(t._s(t.itemData.bodyText))])]),a("div",{staticClass:"body-text-edit mb-3 edit"},[a("h4",{staticClass:"title is-4"},[t._v("Content")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newRecord.bodyText,expression:"newRecord.bodyText"}],staticClass:"textarea",domProps:{value:t.newRecord.bodyText},on:{input:function(e){e.target.composing||t.$set(t.newRecord,"bodyText",e.target.value)}}})]),a("div",{staticClass:"buttons mt-2"},[a("button",{staticClass:"button is-success is-outlined edit",class:{"is-loading":t.loading},on:{click:function(e){return t.updateItemInDatabase(t.itemData.lirixId)}}},[t._v("Save")]),a("button",{staticClass:"button is-danger is-outlined edit ",on:{click:function(e){return t.disableEditing()}}},[t._v("Cancel")])])]),a("footer",{staticClass:"card-footer"},[a("button",{staticClass:" button is-white ",on:{click:function(e){return t.enableEditing()}}},[t._v("Edit")]),a("button",{staticClass:" button is-white ",class:{"is-loading":t.loading},attrs:{disabled:t.editMode},on:{click:function(e){return t.deleteItemfromDatabase(t.itemData.lirixId)}}},[t._v("Delete")]),this.$route.params.id?t._e():a("router-link",{staticClass:"button is-white ",attrs:{to:"/lirix/li/"+t.itemData.lirixId}},[t._v("Link")])],1)])},Z=[],tt={name:"ListItem",props:["itemData"],data:function(){return{editMode:!1,loading:!1,errors:[],newRecord:{title:this.itemData.title,bodyText:this.itemData.bodyText,authorId:this.itemData.authorId,lirixId:this.itemData.lirixId,authorName:this.itemData.authorName}}},watch:{itemData:function(){this.newRecord={title:this.itemData.title,bodyText:this.itemData.bodyText,authorId:this.itemData.authorId,lirixId:this.itemData.lirixId,authorName:this.itemData.authorName}}},methods:Object(d["a"])(Object(d["a"])({},Object(p["b"])([F.deleteData,F.updateData,F.getDataSingle])),{},{deleteItemfromDatabase:function(t){var e=this;confirm("Are you sure?")&&(this.loading=!0,this.deleteData(t).then((function(){e.loading=!1,e.$route.params.id&&e.$router.push("/")})))},updateItemInDatabase:function(){var t=this,e=this.newRecord;e.bodyText&&(this.loading=!0,this.updateData(this.newRecord).then((function(){t.$route.params.id&&t.getDataSingle(t.$route.params.id),t.loading=!1,t.disableEditing()}))),this.errors=[],e.bodyText||this.errors.push("Add some content")},enableEditing:function(){this.editMode=!0},disableEditing:function(){this.editMode=!1}}),computed:{addedOnDate:function(){var t=new Date,e=new Date(this.itemData.timestamp),a=Math.abs(t.getTime()-e.getTime()),i=Math.ceil(a/864e5);return i<2?"at "+e.getHours()+":"+e.getMinutes():"on "+e.getDate()+"/"+(e.getMonth()+1)+"/"+e.getFullYear()}}},et=tt,at=(a("b693"),Object(g["a"])(et,W,Z,!1,null,null,null)),it=at.exports,nt={name:"Listing",components:{"list-item":it},computed:Object(d["a"])({},Object(p["c"])({filteredLirix:F.filteredLirix}))},st=nt,rt=(a("4b3a"),Object(g["a"])(st,Q,U,!1,null,null,null)),ot=rt.exports,ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-6 is-offset-3"},[a("div",{staticClass:"level py-5 px-5 action-bar has-background-white-bis"},[a("div",{staticClass:"level-left"},[a("button",{staticClass:"button is-info level-item",on:{click:function(e){return t.showAddScreen()}}},[t._v("Add New")])]),a("div",{staticClass:"level-right"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTerm,expression:"searchTerm"}],staticClass:"input level-item",attrs:{type:"text",placeholder:"Filter"},domProps:{value:t.searchTerm},on:{input:[function(e){e.target.composing||(t.searchTerm=e.target.value)},function(e){return t.search()}]}})])])])])},lt=[],dt={name:"ActionBar",data:function(){return{searchTerm:""}},methods:Object(d["a"])(Object(d["a"])({},Object(p["b"])([F.setModal,"setSearchTerm"])),{},{showAddScreen:function(){this.setModal(!0)},search:function(){this.setSearchTerm(this.searchTerm)}})},ut=dt,mt=(a("1b4b"),Object(g["a"])(ut,ct,lt,!1,null,null,null)),ht=mt.exports,ft={name:"AllLirixView",data:function(){return{}},components:{"app-add-item":K,"app-listing":ot,"app-action-bar":ht,"theme-switcher":C},methods:Object(d["a"])({},Object(p["b"])([F.getData])),mounted:function(){this.getData()}},pt=ft,vt=Object(g["a"])(pt,H,G,!1,null,null,null),bt=vt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"section"},[a("div",{staticClass:"container"},[a("div",{staticClass:"lyrix-listing columns"},[a("div",{staticClass:"column is-6 is-offset-3"},[a("list-item",{attrs:{"item-data":t.getSingleLiric}})],1)])])])},xt=[],Ct={name:"SingleLiView",data:function(){return{}},components:{"list-item":it},computed:Object(d["a"])({},Object(p["c"])({getSingleLiric:F.getSingleLiric})),methods:Object(d["a"])({},Object(p["b"])([F.getDataSingle])),created:function(){this.getDataSingle(this.$route.params.id)}},wt=Ct,Ot=Object(g["a"])(wt,gt,xt,!1,null,null,null),_t=Ot.exports,jt=[{path:"/",component:bt},{path:"/li/:id",component:_t,props:!0}];o["a"].use(V["a"]);var Tt=new V["a"]({routes:jt});a("3048"),a("51cc"),o["a"].config.productionTip=!1,new o["a"]({store:J,router:Tt,render:function(t){return t(M)}}).$mount("#app")},6593:function(t,e,a){"use strict";var i=a("9fd7"),n=a.n(i);n.a},"67b2":function(t,e,a){"use strict";var i=a("d1f3"),n=a.n(i);n.a},"778a":function(t,e,a){},8788:function(t,e,a){},"985d":function(t,e,a){},"9fd7":function(t,e,a){},a114:function(t,e,a){},b693:function(t,e,a){"use strict";var i=a("4e00"),n=a.n(i);n.a},d1f3:function(t,e,a){},d7dd:function(t,e,a){},fcb8:function(t,e,a){"use strict";var i=a("985d"),n=a.n(i);n.a}});
//# sourceMappingURL=app.52e75447.js.map